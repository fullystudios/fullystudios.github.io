!function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function(){function e(){i(this,e),this.triggerTime=6.2,this.videoDuration=9.04,this.loopTime=1.44,this.loopFrom=this.videoDuration-this.loopTime,this.videoModal=document.querySelector("[data-firstvideomodal]"),this.videoModal&&(this.modalIsTriggered=!1,this.modalIsOpened=!1,this.videoModal.classList.remove("newsflash--open"),this.videoElement=document.getElementById("startvideo"),void 0!=this.videoElement?this.setupEvents(this.videoElement):this.modalTrigger(this.videoModal),this.videoContainer=document.getElementById("startmenu"),navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i)&&(this.videoElement.width=1.67*this.videoContainer.offsetHeight))}return o(e,[{key:"setupEvents",value:function(e){function t(){o.matches?e.pause():e.play()}var i=this;e.addEventListener("timeupdate",this.modalTrigger.bind(this,e)),e.addEventListener("ended",function(t){i.videoLoop(e)});var o=matchMedia("(prefers-reduced-motion)");o.addListener(t),t()}},{key:"openModal",value:function(e){this.modalIsOpened=!0,e.classList.add("newsflash--open")}},{key:"modalTrigger",value:function(e){this.modalIsTriggered||(this.adjustSettings(),e.currentTime<this.triggerTime||(console.log("modal trigger"),this.modalIsTriggered=!0,this.openModal(this.videoModal)))}},{key:"adjustSettings",value:function(){document.querySelectorAll("[data-news='firstnewsflash']").length>0&&(this.triggerTime=6.2,this.videoDuration=9.04)}},{key:"videoLoop",value:function(e){e.currentTime=this.loopFrom,e.play(),e.currentTime=this.loopFrom}}]),e}();new n}]);
//# sourceMappingURL=first-news-flash.js.map